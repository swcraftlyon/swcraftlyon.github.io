<!DOCTYPE html>
<html lang="fr" itemscope itemtype="http://schema.org/WebPage">
  <head>
    

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>DDD, CQRS, and Event Sourcing, beyond the hype - Compte-rendus des software crafters de Lyon</title>
  <meta name="description" content="Sujet : DDD, CQRS, and Event Sourcing, beyond the hype Format : Talk Meetup : https://www."><script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "WebSite",
    "name": "Compte-rendus des software crafters de Lyon",
    
    "url": "https:\/\/swcraftlyon.github.io\/"
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Organization",
  "name": "",
  "url": "https:\/\/swcraftlyon.github.io\/"
  
  
  
  
}
</script>
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [{
        "@type": "ListItem",
        "position": 1,
        "item": {
          "@id": "https:\/\/swcraftlyon.github.io\/",
          "name": "home"
        }
    },{
        "@type": "ListItem",
        "position": 3,
        "item": {
          "@id": "https:\/\/swcraftlyon.github.io\/posts\/2021-12-15-craft-talk\/",
          "name": "D d d, c q r s, and event sourcing, beyond the hype"
        }
    }]
}
</script><script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "Article",
  "author": {
    "name" : ""
  },
  "headline": "DDD, CQRS, and Event Sourcing, beyond the hype",
  "description" : "Sujet : DDD, CQRS, and Event Sourcing, beyond the hype Format : Talk Meetup : https:\/\/www.",
  "inLanguage" : "fr",
  "wordCount":  520 ,
  "datePublished" : "2021-12-15T19:00:00",
  "dateModified" : "2021-12-15T19:00:00",
  "image" : "https:\/\/swcraftlyon.github.io\/",
  "keywords" : [ "talk" ],
  "mainEntityOfPage" : "https:\/\/swcraftlyon.github.io\/posts\/2021-12-15-craft-talk\/",
  "publisher" : {
    "@type": "Organization",
    "name" : "https:\/\/swcraftlyon.github.io\/",
    "logo" : {
        "@type" : "ImageObject",
        "url" : "https:\/\/swcraftlyon.github.io\/",
        "height" :  60 ,
        "width" :  60
    }
  }
}
</script>

<meta property="og:title" content="DDD, CQRS, and Event Sourcing, beyond the hype" />
<meta property="og:description" content="Sujet : DDD, CQRS, and Event Sourcing, beyond the hype Format : Talk Meetup : https://www.">
<meta property="og:url" content="https://swcraftlyon.github.io/posts/2021-12-15-craft-talk/" />
<meta property="og:type" content="website" />
<meta property="og:site_name" content="Compte-rendus des software crafters de Lyon" />

  <meta name="twitter:title" content="DDD, CQRS, and Event Sourcing, beyond the hype" />
  <meta name="twitter:description" content="Sujet : DDD, CQRS, and Event Sourcing, beyond the hype Format : Talk Meetup : https://www.">
  <meta name="twitter:card" content="summary" />
  <meta name="generator" content="Hugo 0.79.0" />
  <link rel="alternate" href="https://swcraftlyon.github.io/index.xml" type="application/rss+xml" title="Compte-rendus des software crafters de Lyon"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous"><link rel="stylesheet" href="https://swcraftlyon.github.io/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://swcraftlyon.github.io/css/syntax.css" /><link rel="stylesheet" href="https://swcraftlyon.github.io/css/codeblock.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous"><style>
  .navbar-header {
    display: flex;
    align-items: center;
    flex-grow: 1;
  }

  .navbar-toggle {
    float: none;
    position: unset;
  }

  .navbar-brand {
    padding: 5px;
    padding-left: 10px;
    height: unset;
    flex-grow: 1;
  }

  .navbar {
    min-height: unset;
  }

  @media screen and (min-width: 766px) {
    .navbar-nav > li > a {
      padding: 0;
      padding-right: 0.5em;
    }
  }

  @media screen and (min-width: 1100px) {
    .navbar > div {
      display: flex;
      align-items: center;
    }
  }

  @media screen and (min-width: 1200px) {
    .navbar-nav > li > a {
      padding-right: 1em;
    }
  }
</style>



  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="https://swcraftlyon.github.io/">Compte-rendus des software crafters de Lyon</a>
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        

        
            <li><a href="https://swcraftlyon.github.io/tags/dojo/">#dojo</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/ddd/">#DDD</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/talk/">#talk</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/unconf/">#unconf</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/live/">#live</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/lectures/">#lectures</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/kata/">#kata</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/team/">#team</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/coding-dojo/">#coding dojo</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/refactoring/">#refactoring</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/code-retreat/">#code-retreat</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/event-storming/">#event storming</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/clinic/">#clinic</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/event-modeling/">#event modeling</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/mob/">#mob</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/gdcr/">#gdcr</a></li>
        
            <li><a href="https://swcraftlyon.github.io/tags/forum-ouvert/">#forum ouvert</a></li>
        

        

        
      </ul>
    </div>

    

  </div>
</nav>




    


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>


  
  
  






  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="posts-heading">
              
                <h1>DDD, CQRS, and Event Sourcing, beyond the hype</h1>
              
              
                <hr class="small">
              
              
              
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        <ul>
<li>Sujet : DDD, CQRS, and Event Sourcing, beyond the hype</li>
<li>Format : Talk</li>
<li>Meetup : <a href="https://www.meetup.com/fr-FR/Software-Craftsmanship-Lyon/events/282137789/">https://www.meetup.com/fr-FR/Software-Craftsmanship-Lyon/events/282137789/</a></li>
<li>Replay : <a href="https://www.youtube.com/watch?v=SxkfkOBzacE">https://www.youtube.com/watch?v=SxkfkOBzacE</a></li>
</ul>
<h2 id="déroulement-de-la-soirée">Déroulement de la soirée</h2>
<p>Présentation par <a href="https://twitter.com/allardbz">Allard Buijze</a> (AxonIQ), suivie d&rsquo;une démo.</p>
<p>Dans ce talk, Allard revient sur l&rsquo;utilisation de CQRS (<a href="https://en.wikipedia.org/wiki/Command%E2%80%93query_separation#Command_query_responsibility_segregation">Command &amp; Query Responsibility Segregation</a>) et ES (Event Sourcing) dans le contexte des microservices.
L&rsquo;émergence des microservices, dont la modularité devait permettre de répondre aux problèmes posés par le &ldquo;big ball of mud&rdquo; a bien souvent conduit à une collection de petites &ldquo;balls of mud&rdquo;.
Les événements permettent de réduire un peu l&rsquo;effort de modification du système tout entier, en réduisant le couplage entre services, mais leur mise en place complique l&rsquo;infrastructure.
Il n&rsquo;est pas facile de délimiter les responsabilités des composants dès la genèse du système.
Allard recommande plutôt de construire un monolithe de façon structurée, puis au fur et mesure que le produit évolue, extraire des modules pour les déployer et les mettre à l&rsquo;échelle indépendamment.</p>
<p>DDD (<a href="https://fr.wikipedia.org/wiki/Conception_pilot%C3%A9e_par_le_domaine">Domain-Driven Design</a>) peut aider, mais il est facile de se perdre en chemin.
Un domaine est une chose complexe, dont on ne s&rsquo;intéresse véritablement qu&rsquo;à un aspect.
Pour cela, on construit <a href="https://en.wikipedia.org/wiki/All_models_are_wrong">un modèle</a> qui sert notre besoin.
Avec ses patterns stratégiques, qui sont plus abstraits (bounded contexts, etc.), DDD ajoute de la structure à notre modèle.
Allard propose ensuite de faire un détour par le <a href="https://www.reactivemanifesto.org/">Reactive Manifesto</a> et les <a href="https://principles.reactive.foundation/">Reactive Principles</a>, un ensemble de principes qui peuvent aider pour construire des systèmes distribués.
Par définition du manifeste, un système réactif est <a href="https://www.reactivemanifesto.org/glossary#Message-Driven">Message-Driven</a>.
Les messages ne se limitent toutefois pas aux seuls événements, il y a aussi les commandes (Commands) et les requêtes (Queries), dont l&rsquo;intention est différente.
Ces différents types de messages ont des besoins de routage différents.
On peut utiliser <a href="https://fr.wikipedia.org/wiki/Publish-subscribe">publish-subscribe</a> pour les événements.
Les effets de bord produits par une commande ne doivent généralement être déclenchés que depuis un seul composant, une commande n&rsquo;est donc routée que vers un seul composant qui retourne un acquittement.
Pour les requêtes, plusieurs solutions existent selon le cas d&rsquo;utilisation : point-à-point, scatter-gather, souscription (par exemple avec des <a href="https://fr.wikipedia.org/wiki/Server-sent_events">Server-sent events</a>).
L&rsquo;utilisation des patterns adaptés en fonction du type de messages permet la <a href="https://www.reactivemanifesto.org/glossary#Location-Transparency">Location Transparency</a>.
Par la suite, Allard clarifie la différence entre Event Streaming et Event Sourcing (enregistrer les événements et les évaluer pour déterminer l&rsquo;état courant).
Il y a des raisons métier à concevoir un système event sourcé et des raisons techniques, notamment pour gérer la complexité dans les modèles, mais nous manquons de familiarité avec ES.</p>
<p>CQRS et ES se complètent bien, et <a href="https://axoniq.io/">Axon</a>, le produit sur lequel travaille Allard peut aider à implémenter des systèmes Message-Driven.
D&rsquo;un point de vue infrastructure, le choix se fait classiquement entre un <a href="https://fr.wikipedia.org/wiki/Agent_de_messages">Message Broker</a>, qui permet d&rsquo;envoyer des messages de façon fiable, ou un ESB (<a href="https://fr.wikipedia.org/wiki/Enterprise_service_bus">Enterprise Service Bus</a>) qui peut prendre des décisions fondées sur le contenu des messages. Axon se situe entre les 2 et comprend les patterns de routage et les différents types de messages.
Allard revient sur la nécessité de se familiariser avec <a href="https://www.eventstorming.com/">EventStorming</a>, DDD et <a href="https://eventmodeling.org/">Event Modeling</a>.</p>
<h2 id="roti-">Roti :</h2>
<ul>
<li>5/5 : 4</li>
<li>4/5 : 3</li>
<li>3/5 : 1</li>
<li>2/5 : 1</li>
</ul>


        
          <div class="blog-tags">
            
              <a href="https://swcraftlyon.github.io//tags/talk/">talk</a>&nbsp;
            
          </div>
        

        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://swcraftlyon.github.io/posts/2021-12-08-soiree-ddd/" data-toggle="tooltip" data-placement="top" title="Soirée talks DDD du Mercredi 8 Décembre 2021">&larr; Post précédent</a>
            </li>
          
          
            <li class="next">
              <a href="https://swcraftlyon.github.io/posts/2021-12-21-coding-dojo/" data-toggle="tooltip" data-placement="top" title="Coding Dojo Mardi 21 Décembre 2021">Post suivant &rarr;</a>
            </li>
          
        </ul>
      


      

    </div>
  </div>
</div>

      
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
        </ul>
        <p class="credits copyright text-muted">
          

          &nbsp;&bull;&nbsp;&copy;
          
            2022
          

          
            &nbsp;&bull;&nbsp;
            <a href="https://swcraftlyon.github.io/">Compte-rendus des software crafters de Lyon</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          Carbure avec <a href="https://gohugo.io">Hugo v0.79.0</a>&nbsp;&bull;&nbsp; Avec le Theme <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a> adapté de <a href="https://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a>
          
        </p>
      </div>
    </div>
  </div>
</footer><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="https://swcraftlyon.github.io/js/main.js"></script><script> renderMathInElement(document.body); </script><script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script><script src="https://swcraftlyon.github.io/js/load-photoswipe.js"></script>









    
  </body>
</html>

